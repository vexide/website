---
import PageLayout from "layouts/PageLayout.astro";
import PageSection from "components/PageSection.astro";

import Button from "components/Button.svelte";

import { GITHUB_ORG_URL } from "config";
---

<PageLayout title="vexide simulator">
	<main id="content">
		<PageSection id="sim-hero">
			<div class="hero-top">
				<h1 class="title">vexide Simulator</h1>
				<p class="subtext">
					Easily simulate vexide user programs on your own computer
					without physical access to V5 hardware.
				</p>
				<Button
					href={`${GITHUB_ORG_URL}/vex-sdk-sim/releases/latest`}
					target="_blank"
					rel="noreferrer noopener"
					variant="accent"
				>
					Source Code on GitHub
					<svg
						xmlns="http://www.w3.org/2000/svg"
						width="18"
						height="18"
						viewBox="0 0 32 32"
					>
						<path
							fill="currentColor"
							d="M10 6v2h12.59L6 24.59L7.41 26L24 9.41V22h2V6z"
						></path>
					</svg>
				</Button>
			</div>
			<div class="hero-bottom">
				<img
					class="hero-image"
					src="/images/sim_wireframe.svg"
					alt="Simulator window wireframe preview"
					width="800"
					height="586"
				/>
				<div class="feature-cards">
					<div class="feature-card">
						<div class="feature-card-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 32 32"
								><path
									fill="currentColor"
									d="M12 29a1 1 0 0 1-.92-.62L6.33 17H2v-2h5a1 1 0 0 1 .92.62L12 25.28l8.06-21.63A1 1 0 0 1 21 3a1 1 0 0 1 .93.68L25.72 15H30v2h-5a1 1 0 0 1-.95-.68L21 7l-8.06 21.35A1 1 0 0 1 12 29"
								></path></svg
							>
						</div>
						<div class="feature-card-content">
							<h2>Great for Testing</h2>
							<p>
								Allows easy local testing of vexide user
								programs from your computer in a WASM
								environment. No uploads needed!
							</p>
						</div>
					</div>
					<div class="feature-card">
						<div class="feature-card-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 32 32"
								><path
									fill="currentColor"
									d="M22 8h-1V2h-2v6h-6V2h-2v6h-1a2 2 0 0 0-2 2v6a8.007 8.007 0 0 0 7 7.93V30h2v-6.07A8.007 8.007 0 0 0 24 16v-6a2 2 0 0 0-2-2m0 8a6 6 0 0 1-12 0v-6h12Z"
								></path></svg
							>
						</div>
						<div class="feature-card-content">
							<h2>Easy Device Management</h2>
							<p>
								Add/remove peripherals and mock device state.
								Use any SDL-compatible gamepad as a controller.
							</p>
						</div>
					</div>
					<div class="feature-card">
						<div class="feature-card-icon">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								viewBox="0 0 32 32"
								><path
									fill="currentColor"
									d="M28 28H17a2.002 2.002 0 0 1-2-2v-6a2.002 2.002 0 0 1 2-2h11a2.003 2.003 0 0 1 2 2v6a2.003 2.003 0 0 1-2 2m-11-8v6h11.002L28 20zm-5-10v3.586L7.707 9.293l-1.414 1.414L10.586 15H7v2h7v-7z"
								></path><path
									fill="currentColor"
									d="M13 22H4a2.002 2.002 0 0 1-2-2V7a2.002 2.002 0 0 1 2-2h22a2.002 2.002 0 0 1 2 2v9h-2V7H4v13h9Z"
								></path></svg
							>
						</div>
						<div class="feature-card-content">
							<h2>Full Display Emulation</h2>
							<p>
								Simulate the brain's display graphics to test UIs or auton selectors without uploading every time.
							</p>
						</div>
					</div>
				</div>
			</div>
		</PageSection>
	</main>
</PageLayout>

<style>
	#sim-hero {
		--grid-color: hsl(var(--base-hue), 12%, 18%);
		z-index: 1;
		overflow: hidden;
		background-size: 20px 20px;
		background-image: linear-gradient(
				to right,
				var(--grid-color) 1px,
				transparent 1px
			),
			linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
	}

	#sim-hero::after {
	}

	#sim-hero > :global(.page-section-inner) {
		padding-block: 128px;
		gap: 128px;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.hero-top,
	.hero-bottom {
		position: relative;
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.hero-top {
		text-align: center;
	}

	.hero-top .title {
		max-inline-size: 30ch;
		margin-block-end: 24px;
	}

	.hero-top .subtext {
		max-inline-size: 40ch;
	}

	.hero-image {
		max-width: 100%;
		width: 800px;
		height: auto;
		mask: linear-gradient(black, transparent 80%);
	}

	.hero-bottom::before {
		content: "";
		z-index: -1;
		position: absolute;
		width: 175%;
		height: 175%;
		top: -75%;
		left: -37.5%;
		background: url("/images/background_glow.png") center/contain no-repeat;
	}

	.feature-cards {
		position: absolute;
		bottom: 0;
		display: flex;
		gap: 24px;
		width: 1000px;
	}

	.feature-card {
		background: var(--background-primary);
		padding: 16px;
		flex: 1 1 calc(100% / 3);
		display: flex;
		flex-direction: column;
		gap: 16px;
		box-shadow:
			2.8px 2.8px 2.2px rgba(0, 0, 0, 0.02),
			6.7px 6.7px 5.3px rgba(0, 0, 0, 0.028),
			12.5px 12.5px 10px rgba(0, 0, 0, 0.035),
			22.3px 22.3px 17.9px rgba(0, 0, 0, 0.042),
			41.8px 41.8px 33.4px rgba(0, 0, 0, 0.05),
			100px 100px 80px rgba(0, 0, 0, 0.07);
		border: 1px solid var(--background-secondary);
	}

	.feature-card h2 {
		margin: 0;
		font-weight: 400;
		margin-block-end: 12px;
		font-family: var(--font-monospace);
		font-size: 1.8rem;
		color: var(--foreground-primary);
	}

	.feature-card p {
		margin: 0;
		font-size: 1.4rem;
		color: var(--foreground-secondary);
	}

	.feature-card-icon {
		display: flex;
		justify-content: center;
		align-items: center;
		color: var(--background-primary);
		block-size: 36px;
		inline-size: 36px;
		flex: 0 0 auto;
		background: var(--background-accent-yellow);
	}
</style>
